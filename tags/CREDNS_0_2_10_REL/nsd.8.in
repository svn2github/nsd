.TH "CREDNS" "8" "@date@" "NLnet Labs" "CREDNS @version@"
.\" Copyright (c) 2001\-2011, NLnet Labs. All rights reserved.
.\" See LICENSE for the license.
.SH "NAME"
.LP
.B credns
\- version @version@.
.SH "SYNOPSIS"
.LP
.B credns
.RB [ \-4 ] 
.RB [ \-6 ] 
.RB [ \-a 
.IR ip\-address[@port] ]
.RB [ \-c
.IR configfile ]
.RB [ \-d ] 
.RB [ \-f
.IR database ]
.RB [ \-h ] 
.RB [ \-i
.IR identity ]
.RB [ \-I
.IR nsid ]
.RB [ \-l
.IR logfile ]
.RB [ \-N
.IR server\-count ]
.RB [ \-n
.IR noncurrent\-tcp\-count ]
.RB [ \-P
.IR pidfile ]
.RB [ \-p
.IR port ]
.RB [ \-s
.IR seconds ]
.RB [ \-t
.IR chrootdir ]
.RB [ \-u
.IR username ]
.RB [ \-V
.IR level ]
.RB [ \-v ]
.SH "DESCRIPTION"
.LP
.B Credns
is a software program aimed at fortifying DNSSEC by performing validation in
the DNS notify/transfer-chain. 
Currently
.B credns
is a fork of NSD(8) that has been extended with the possibility to asses
zones - received or updated by AXFR or IXFR - by running an external verifier
and only serve those zones when they are deemed correct by the verifier
associated with that zone.  The options for setting a verifier for a zone and
all related options can be given in the credns.conf(5) configuration file.
.LP
.SH "OPTIONS"
.LP
All the options can be specified in the configfile (
.B \-c 
argument), except for the 
.B \-v 
and 
.B \-h 
options. If options are specified on the commandline, the options 
on the commandline take precedence over the options in the 
configfile.
.P
Normally
.B credns
should be started with the `crednsc(8) start` command invoked from a
.I /etc/rc.d/credns.sh
script or similar at the operating system startup.
.TP
.B \-4
Only listen to IPv4 connections.
.TP
.B \-6
Only listen to IPv6 connections.
.TP
.B \-a\fI ip\-address[@port]
Listen to the specified
.IR ip\-address .
The
.I ip\-address
must be specified in numeric format (using the standard IPv4 or IPv6
notation). Optionally, a port number can be given.
This flag can be specified multiple times to listen to
multiple IP addresses. If this flag is not specified, 
.B credns
listens to the wildcard interface.
.TP
.B \-c\fI configfile
Read specified 
.I configfile instead of the default
.IR @nsdconfigfile@ .
For format description see credns.conf(5).
.TP
.B \-d
Turn on debugging mode, do not fork, stay in the foreground.
.TP
.B \-f\fI database
Use the specified
.I database
instead of the default of
.IR @dbfile@ .
If a 
.B zonesdir: 
is specified in the config file this path can be relative to that 
directory.
.TP
.B \-h
Print help information and exit.
.TP
.B \-i\fI identity
Return the specified
.I identity
when asked for
.I CH TXT ID.SERVER
(This option is used to determine which server is answering the queries
when they are multicast). The default is the name returned by
gethostname(3).
.TP
.B \-I\fI nsid
Add the specified
.I nsid
to the EDNS section of the answer when queried with an NSID EDNS 
enabled packet.
.TP
.B \-l\fI logfile
Log messages to the specified 
.IR logfile .
The default is to log to stderr and syslog. If a 
.B zonesdir: 
is specified in the config file this path can be relative to that 
directory.
.TP
.B \-N\fI count
Start
.I count
.B credns
servers. The default is 1. Starting more than a single server is 
only useful on machines with multiple CPUs and/or network adapters. 
.TP
.B \-n\fI number
The maximum
.I number
of concurrent TCP connection that can be handled by each server. The
default is 10.
.TP
.B \-P\fI pidfile
Use the specified
.I pidfile
instead of the platform specific default, which is mostly
.IR @pidfile@ .
If a 
.B zonesdir: 
is specified in the config file, this path can be relative to that 
directory.
.TP
.B \-p\fI port
Answer the queries on the specified
.IR port .
Normally this is port 53.
.TP
.B \-s\fI seconds
Produce statistics dump every 
.I seconds
seconds. This is equal to sending
.I SIGUSR1
to the daemon periodically.
.TP
.B \-t\fI chroot
Specifies a directory to 
.I chroot 
to upon startup. This option requires you to ensure that appropriate 
syslogd(8) socket (e.g.
.I chrootdir 
/dev/log) is available, otherwise
.B credns
won't produce any log output.
.TP
.B \-u\fI username
Drop user and group privileges to those of
.I username
after binding the socket.
The
.I username
must be one of: username, id, or id.gid. For example: credns, 80, or 
80.80.
.TP
.B \-V\fI level
This value specifies the verbosity level for (non\-debug) logging. 
Default is 0.
.TP
.B \-v
Print the version number of 
.B credns
to standard error and exit.
.LP
.B Credns
reacts to the following signals:
.TP
SIGTERM
Stop answering queries, shutdown, and exit normally.
.TP 
SIGHUP
Reload the database.
.TP
SIGUSR1
Dump BIND8\-style statistics into the log. Ignored otherwise.
.SH "FILES"
.TP
@dbfile@
default
.B credns
database
.TP
@pidfile@
the process id of the name server.
.TP
@nsdconfigfile@
default
.B credns
configuration file
.SH "DIAGNOSTICS"
.LP
will log all the problems via the standard syslog(8)
.I daemon
facility, unless the
.B \-d
option is specified.
.SH "SEE ALSO"
.LP
crednsc(8), credns.conf(5), credns\-checkconf(8), credns\-notify(8), 
credns\-patch(8), credns\-xfer(8)
.SH "AUTHORS"
.LP
.B Credns
was written by NLnet Labs.
.LP
.B NSD
was written by NLnet Labs and RIPE NCC joint team. Please see
CREDITS file in the distribution for further details.
.SH "BUGS"
.LP
.B Credns
is a fork of NSD(8) and inherits all its bugs.
.SH "WARNING"
Because of credns is implemented as a fork of NSD(8), it currently functions
as a complete authoritative DNS namservers.  However, this functionality is
not strictly necessary of credns type operation and might disappear in future
releases. Credns has a different orientation as NSD and might develop into an
entirely different direction.

